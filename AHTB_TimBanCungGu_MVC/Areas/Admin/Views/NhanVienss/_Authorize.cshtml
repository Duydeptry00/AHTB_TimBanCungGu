@model AHTB_TimBanCungGu_API.ViewModels.ListUser_role

<h2 class="mb-4 w-100">Cấp Quyền</h2>

<form asp-action="Authorize" method="post">
    @for (int i = 0; i < Model.RolesList.Count; i++)
    {
        <div class="form-row mb-3 align-items-center">
            <!-- User Selection -->
            <div class="form-group me-3" style="flex: 1;">
                <label class="control-label">Người Dùng</label>
                <select asp-for="RolesList[i].Id_User" class="form-control">
                    @foreach (var user in Model.Users)
                    {
                        <option value="@user.IdNhanVien">@user.UserName</option>
                    }
                </select>
                <span asp-validation-for="RolesList[i].Id_User" class="text-danger"></span>
            </div>

            <!-- Role Selection -->
            <div class="form-group me-3" style="flex: 1;">
                <label class="control-label">Vai Trò</label>
                <select asp-for="RolesList[i].Id_Role" class="form-control">
                    @foreach (var role in Model.Roles)
                    {
                        <option value="@role.IDRole">@role.Module</option>
                    }
                </select>
                <span asp-validation-for="RolesList[i].Id_Role" class="text-danger"></span>
            </div>

            <!-- Role Name as Dropdown -->
            <div class="form-group" style="flex: 1;">
                <label class="control-label">Tên Vai Trò</label>
                <select asp-for="RolesList[i].Tenrole" class="form-control">
                    <option value="Admin">Admin</option>
                    <option value="Nhân Viên">Nhân Viên</option>
                </select>
                <span asp-validation-for="RolesList[i].Tenrole" class="text-danger"></span>
            </div>
        </div>
    }
    <button type="submit" class="btn btn-success">Thêm Vai Trò</button>
</form>

<style>
    .form-row {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
    }

    .form-group {
        flex: 1;
    }

    .form-control {
        width: 100%;
    }
</style>
